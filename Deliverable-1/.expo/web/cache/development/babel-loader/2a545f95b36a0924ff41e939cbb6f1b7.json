{"ast":null,"code":"import _slicedToArray from \"@babel/runtime/helpers/slicedToArray\";\nvar _jsxFileName = \"/home/jonah/Desktop/Deliverable-1/screens/ExploreScreen.js\";\nimport _regeneratorRuntime from \"@babel/runtime/regenerator\";\nimport React, { useState } from \"react\";\nimport View from \"react-native-web/dist/exports/View\";\nimport FlatList from \"react-native-web/dist/exports/FlatList\";\nimport TouchableOpacity from \"react-native-web/dist/exports/TouchableOpacity\";\nimport StyleSheet from \"react-native-web/dist/exports/StyleSheet\";\nimport Image from \"react-native-web/dist/exports/Image\";\nimport { ScrollView } from \"react-native-gesture-handler\";\nimport AppButton from \"../components/AppButton\";\nimport AppCard from \"../components/AppCard\";\nimport AppColors from \"../config/AppColors\";\nimport AppScreen from \"../components/AppScreen\";\nimport AppPicker from \"../components/AppPicker\";\nimport AppText from \"../components/AppText\";\nimport AppTextInput from \"../components/AppTextInput\";\nimport AppIcon from \"../components/AppIcon\";\nimport AppTitle from \"../components/AppTitle\";\nimport DataManager from \"../config/DataManager\";\nimport * as ImagePicker from \"expo-image-picker\";\nvar categories = [{\n  label: \"Place to Stay\",\n  value: 1,\n  icon: \"home\",\n  backgroundColor: AppColors.blue\n}, {\n  label: \"Experience\",\n  value: 4,\n  icon: \"compass\",\n  backgroundColor: AppColors.welcomeBackground\n}, {\n  label: \"Activity\",\n  value: 3,\n  icon: \"run-fast\",\n  backgroundColor: AppColors.orange\n}];\n\nvar getAdventures = function getAdventures() {\n  var commonData = DataManager.getInstance();\n  return commonData.adventures;\n};\n\nfunction ExploreScreen(_ref) {\n  var navigation = _ref.navigation;\n  var saveList = getAdventures();\n  getAdventures();\n\n  var _useState = useState(\"\"),\n      _useState2 = _slicedToArray(_useState, 2),\n      title = _useState2[0],\n      setTitle = _useState2[1];\n\n  var _useState3 = useState(\"\"),\n      _useState4 = _slicedToArray(_useState3, 2),\n      subtitle = _useState4[0],\n      setSubTitle = _useState4[1];\n\n  var _useState5 = useState(),\n      _useState6 = _slicedToArray(_useState5, 2),\n      category = _useState6[0],\n      setCategory = _useState6[1];\n\n  var _useState7 = useState(null),\n      _useState8 = _slicedToArray(_useState7, 2),\n      image = _useState8[0],\n      setImage = _useState8[1];\n\n  var _useState9 = useState(\"\"),\n      _useState10 = _slicedToArray(_useState9, 2),\n      titleError = _useState10[0],\n      setTitleError = _useState10[1];\n\n  var _useState11 = useState(\"\"),\n      _useState12 = _slicedToArray(_useState11, 2),\n      subTitleError = _useState12[0],\n      setSubTitleError = _useState12[1];\n\n  var _useState13 = useState(\"\"),\n      _useState14 = _slicedToArray(_useState13, 2),\n      categoryError = _useState14[0],\n      setCategoryError = _useState14[1];\n\n  var _useState15 = useState(\"\"),\n      _useState16 = _slicedToArray(_useState15, 2),\n      imageError = _useState16[0],\n      setImageError = _useState16[1];\n\n  var openImagePickerAsync = function openImagePickerAsync() {\n    var permissionResult, pickerResult;\n    return _regeneratorRuntime.async(function openImagePickerAsync$(_context) {\n      while (1) {\n        switch (_context.prev = _context.next) {\n          case 0:\n            _context.next = 2;\n            return _regeneratorRuntime.awrap(ImagePicker.requestMediaLibraryPermissionsAsync());\n\n          case 2:\n            permissionResult = _context.sent;\n\n            if (!(permissionResult.granted === false)) {\n              _context.next = 6;\n              break;\n            }\n\n            alert(\"Permission to access camera roll is required!\");\n            return _context.abrupt(\"return\");\n\n          case 6:\n            _context.next = 8;\n            return _regeneratorRuntime.awrap(ImagePicker.launchImageLibraryAsync());\n\n          case 8:\n            pickerResult = _context.sent;\n\n            if (!(pickerResult.cancelled === true)) {\n              _context.next = 11;\n              break;\n            }\n\n            return _context.abrupt(\"return\");\n\n          case 11:\n            setImage({\n              path: pickerResult.uri\n            });\n\n          case 12:\n          case \"end\":\n            return _context.stop();\n        }\n      }\n    }, null, null, null, Promise);\n  };\n\n  var doErrorCheck = function doErrorCheck() {\n    setTitleError(title.length > 0 ? \"\" : \"Please set a valid Title\");\n    setSubTitleError(subtitle.length > 0 ? \"\" : \"Please set a valid Description\");\n    setCategoryError(subtitle.length > 0 ? \"\" : \"Please choose a Category\");\n    setImageError(image ? \"\" : \"Please choose a photo\");\n    return title.length > 0 && subtitle.length > 0 && category && image ? true : false;\n  };\n\n  var addListing = function addListing() {\n    var commonData = DataManager.getInstance();\n    var user = commonData.getUserID();\n    var adventures = commonData.getAdventures(user);\n    var adventID = adventures.length + 2;\n    var newAdvent = {\n      title: title,\n      subtitle: subtitle,\n      category: category.label,\n      advid: adventID,\n      userid: user,\n      image: image.path\n    };\n    console.log(newAdvent);\n    commonData.addListing(newAdvent);\n  };\n\n  return React.createElement(ScrollView, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 112,\n      columnNumber: 5\n    }\n  }, React.createElement(AppScreen, {\n    style: {\n      backgroundColor: AppColors.otherColor,\n      padding: 5\n    },\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 114,\n      columnNumber: 5\n    }\n  }, React.createElement(AppTitle, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 115,\n      columnNumber: 9\n    }\n  }, \"Explore\"), React.createElement(AppText, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 117,\n      columnNumber: 9\n    }\n  }, \"Create your own listing\"), React.createElement(AppTextInput, {\n    icon: \"home\",\n    placeholder: \"Location\",\n    value: title,\n    onChangeText: function onChangeText(inputText) {\n      return setTitle(inputText);\n    },\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 118,\n      columnNumber: 9\n    }\n  }), titleError.length > 0 ? React.createElement(AppText, {\n    style: {\n      margin: 5,\n      color: \"red\",\n      fontSize: 16\n    },\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 125,\n      columnNumber: 11\n    }\n  }, titleError) : React.createElement(React.Fragment, null), React.createElement(AppTextInput, {\n    icon: \"compass\",\n    placeholder: \"Short Description\",\n    value: subtitle,\n    onChangeText: function onChangeText(inputText) {\n      return setSubTitle(inputText);\n    },\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 131,\n      columnNumber: 9\n    }\n  }), subTitleError.length > 0 ? React.createElement(AppText, {\n    style: {\n      margin: 5,\n      color: \"red\",\n      fontSize: 16\n    },\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 138,\n      columnNumber: 11\n    }\n  }, subTitleError) : React.createElement(React.Fragment, null), React.createElement(AppPicker, {\n    selectedItem: category,\n    onSelectedItem: function onSelectedItem(item) {\n      return setCategory(item);\n    },\n    data: categories,\n    icon: \"apps\",\n    placeholder: \"Categories\",\n    numColumns: 3,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 145,\n      columnNumber: 9\n    }\n  }), categoryError.length > 0 ? React.createElement(AppText, {\n    style: {\n      margin: 5,\n      color: \"red\",\n      fontSize: 16\n    },\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 154,\n      columnNumber: 11\n    }\n  }, categoryError) : React.createElement(React.Fragment, null), React.createElement(TouchableOpacity, {\n    style: styles.iconButton,\n    onPress: openImagePickerAsync,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 160,\n      columnNumber: 9\n    }\n  }, React.createElement(AppIcon, {\n    name: \"camera\",\n    size: 80,\n    iconColor: AppColors.grey,\n    backgrounColor: AppColors.fadedGrey,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 164,\n      columnNumber: 11\n    }\n  }), image && React.createElement(Image, {\n    source: {\n      uri: image.path\n    },\n    style: styles.image,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 170,\n      columnNumber: 21\n    }\n  })), imageError.length > 0 ? React.createElement(AppText, {\n    style: {\n      margin: 5,\n      color: \"red\",\n      fontSize: 16\n    },\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 174,\n      columnNumber: 11\n    }\n  }, imageError) : React.createElement(React.Fragment, null), React.createElement(AppButton, {\n    title: \"Add Listing\",\n    onPress: function onPress() {\n      if (doErrorCheck()) {\n        addListing();\n        navigation.navigate(\"Saved\");\n      }\n    },\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 180,\n      columnNumber: 9\n    }\n  })));\n}\n\nvar styles = StyleSheet.create({\n  container: {\n    backgroundColor: AppColors.background,\n    flex: 1\n  },\n  iconButton: {\n    marginLeft: 20,\n    justifyContent: \"center\",\n    alignItems: \"center\",\n    flexDirection: \"row\"\n  },\n  image: {\n    borderRadius: 10,\n    height: 100,\n    width: 100\n  }\n});\nexport default ExploreScreen;","map":{"version":3,"sources":["/home/jonah/Desktop/Deliverable-1/screens/ExploreScreen.js"],"names":["React","useState","ScrollView","AppButton","AppCard","AppColors","AppScreen","AppPicker","AppText","AppTextInput","AppIcon","AppTitle","DataManager","ImagePicker","categories","label","value","icon","backgroundColor","blue","welcomeBackground","orange","getAdventures","commonData","getInstance","adventures","ExploreScreen","navigation","saveList","title","setTitle","subtitle","setSubTitle","category","setCategory","image","setImage","titleError","setTitleError","subTitleError","setSubTitleError","categoryError","setCategoryError","imageError","setImageError","openImagePickerAsync","requestMediaLibraryPermissionsAsync","permissionResult","granted","alert","launchImageLibraryAsync","pickerResult","cancelled","path","uri","doErrorCheck","length","addListing","user","getUserID","adventID","newAdvent","advid","userid","console","log","otherColor","padding","inputText","margin","color","fontSize","item","styles","iconButton","grey","fadedGrey","navigate","StyleSheet","create","container","background","flex","marginLeft","justifyContent","alignItems","flexDirection","borderRadius","height","width"],"mappings":"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","sourcesContent":["import React, { useState } from \"react\";\nimport {\n  View,\n  FlatList,\n  TouchableOpacity,\n  StyleSheet,\n  Image,\n} from \"react-native\";\nimport { ScrollView } from \"react-native-gesture-handler\";\n\nimport AppButton from \"../components/AppButton\";\nimport AppCard from \"../components/AppCard\";\nimport AppColors from \"../config/AppColors\";\nimport AppScreen from \"../components/AppScreen\";\nimport AppPicker from \"../components/AppPicker\";\nimport AppText from \"../components/AppText\";\nimport AppTextInput from \"../components/AppTextInput\";\nimport AppIcon from \"../components/AppIcon\";\nimport AppTitle from \"../components/AppTitle\";\nimport DataManager from \"../config/DataManager\";\nimport * as ImagePicker from \"expo-image-picker\";\n\n\nconst categories = [\n  {\n    label: \"Place to Stay\",\n    value: 1,\n    icon: \"home\",\n    backgroundColor: AppColors.blue,\n  },\n  {\n    label: \"Experience\",\n    value: 4,\n    icon: \"compass\",\n    backgroundColor: AppColors.welcomeBackground,\n  },\n\n  {\n    label: \"Activity\",\n    value: 3,\n    icon: \"run-fast\",\n    backgroundColor: AppColors.orange,\n  },\n];\n\nconst getAdventures = () => {\n  let commonData = DataManager.getInstance();\n  return commonData.adventures;\n};\n\nfunction ExploreScreen({ navigation }) {\n  const saveList = getAdventures();\n  getAdventures();\n\n  const [title, setTitle] = useState(\"\");\n  const [subtitle, setSubTitle] = useState(\"\");\n  const [category, setCategory] = useState();\n  const [image, setImage] = useState(null);\n\n  const [titleError, setTitleError] = useState(\"\");\n  const [subTitleError, setSubTitleError] = useState(\"\");\n  const [categoryError, setCategoryError] = useState(\"\");\n  const [imageError, setImageError] = useState(\"\");\n\n  let openImagePickerAsync = async () => {\n    let permissionResult = await ImagePicker.requestMediaLibraryPermissionsAsync();\n\n    if (permissionResult.granted === false) {\n      alert(\"Permission to access camera roll is required!\");\n      return;\n    }\n\n    let pickerResult = await ImagePicker.launchImageLibraryAsync();\n\n    if (pickerResult.cancelled === true) {\n      return;\n    }\n    setImage({ path: pickerResult.uri });\n  };\n\n  const doErrorCheck = () => {\n    setTitleError(title.length > 0 ? \"\" : \"Please set a valid Title\");\n    setSubTitleError(\n      subtitle.length > 0 ? \"\" : \"Please set a valid Description\"\n    );\n    setCategoryError(subtitle.length > 0 ? \"\" : \"Please choose a Category\");\n    setImageError(image ? \"\" : \"Please choose a photo\");\n    return title.length > 0 && subtitle.length > 0 && category && image\n      ? true\n      : false;\n  };\n\n  const addListing = () => {\n    let commonData = DataManager.getInstance();\n    let user = commonData.getUserID();\n\n    const adventures = commonData.getAdventures(user);\n    const adventID = adventures.length + 2;\n    const newAdvent = {\n      title: title,\n      subtitle: subtitle,\n      category: category.label,\n      advid: adventID,\n      userid: user,\n      image: image.path,\n    };\n    console.log(newAdvent);\n    commonData.addListing(newAdvent);\n  };\n\n  return (\n    <ScrollView>\n\n    <AppScreen style={{ backgroundColor: AppColors.otherColor, padding: 5 }}>\n        <AppTitle>Explore</AppTitle>\n       \n        <AppText>Create your own listing</AppText>\n        <AppTextInput\n          icon=\"home\"\n          placeholder=\"Location\"\n          value={title}\n          onChangeText={(inputText) => setTitle(inputText)}\n        />\n        {titleError.length > 0 ? (\n          <AppText style={{ margin: 5, color: \"red\", fontSize: 16 }}>\n            {titleError}\n          </AppText>\n        ) : (\n          <></>\n        )}\n        <AppTextInput\n          icon=\"compass\"\n          placeholder=\"Short Description\"\n          value={subtitle}\n          onChangeText={(inputText) => setSubTitle(inputText)}\n        />\n        {subTitleError.length > 0 ? (\n          <AppText style={{ margin: 5, color: \"red\", fontSize: 16 }}>\n            {subTitleError}\n          </AppText>\n        ) : (\n          <></>\n        )}\n\n        <AppPicker\n          selectedItem={category}\n          onSelectedItem={(item) => setCategory(item)}\n          data={categories}\n          icon=\"apps\"\n          placeholder=\"Categories\"\n          numColumns={3}\n        />\n        {categoryError.length > 0 ? (\n          <AppText style={{ margin: 5, color: \"red\", fontSize: 16 }}>\n            {categoryError}\n          </AppText>\n        ) : (\n          <></>\n        )}\n        <TouchableOpacity\n          style={styles.iconButton}\n          onPress={openImagePickerAsync}\n        >\n          <AppIcon\n            name=\"camera\"\n            size={80}\n            iconColor={AppColors.grey}\n            backgrounColor={AppColors.fadedGrey}\n          />\n          {image && <Image source={{ uri: image.path }} style={styles.image} />}\n        </TouchableOpacity>\n\n        {imageError.length > 0 ? (\n          <AppText style={{ margin: 5, color: \"red\", fontSize: 16 }}>\n            {imageError}\n          </AppText>\n        ) : (\n          <></>\n        )}\n        <AppButton\n          title=\"Add Listing\"\n          onPress={() => {\n            if (doErrorCheck()) {\n              addListing();\n              navigation.navigate(\"Saved\");\n            }\n          }}\n        />\n    </AppScreen>\n    </ScrollView>\n\n  );\n}\n\nconst styles = StyleSheet.create({\n  container: {\n    backgroundColor: AppColors.background,\n    flex: 1,\n  },\n  iconButton: {\n    marginLeft: 20,\n    justifyContent: \"center\",\n    alignItems: \"center\",\n    flexDirection: \"row\",\n  },\n  image: {\n    borderRadius: 10,\n    height: 100,\n    width: 100,\n  },\n});\n\nexport default ExploreScreen;\n"]},"metadata":{},"sourceType":"module"}